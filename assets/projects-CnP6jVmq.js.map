{"version":3,"file":"projects-CnP6jVmq.js","sources":["../../project/js/projects.js"],"sourcesContent":["import videoPreloader from './video-preloader.js';\nimport threeAnimation from './three-animation.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const projectNames = document.querySelectorAll('.projects-names');\n    const categories = document.querySelectorAll('.projects-category');\n    const loader = document.getElementById('loader');\n\n    // Vérifier si les vidéos sont déjà préchargées\n    if (videoPreloader.videosLoaded === 0) {\n        loader.style.display = 'flex';\n        videoPreloader.preloadVideos().then(() => {\n            loader.style.display = 'none';\n        }).catch(error => {\n            console.error('Error loading videos:', error);\n            loader.style.display = 'none';\n        });\n    }\n\n    // Utility: Apply category-specific gradient\n    function getCategoryGradient(category) {\n        switch (category) {\n            case 'design':\n                return 'linear-gradient(129.1deg, #FF153C 14.5%, #FF5387 39.11%, #FF8438 84.05%)';\n            case 'development':\n                return 'linear-gradient(142deg, #2654EC 7.83%, #5B5BFF 55.07%, #4D00FF 95.88%)';\n            case 'generative':\n                return 'linear-gradient(50deg, #FF5757 0%, #E743CC 46.31%, #5765FF 95.94%)';\n            default:\n                return '';\n        }\n    }\n\n    // Function to reset category styles\n    function resetCategories() {\n        categories.forEach(cat => {\n            cat.classList.remove('hovered');\n            Object.assign(cat.style, {\n                color: '',\n                background: '',\n                webkitBackgroundClip: '',\n                webkitTextFillColor: '',\n                paddingLeft: '4vw'\n            });\n        });\n    }\n\n    // Function to handle hover styles for projects\n    function handleProjectHover(project) {\n        const category = project.getAttribute('data-category');\n        const videoSrc = project.getAttribute('data-src');\n\n        projectNames.forEach(e => e.style.color = 'grey');\n        \n        // Highlight related category\n        categories.forEach(cat => {\n            if (cat.getAttribute('data-category') === category) {\n                cat.classList.add('hovered');\n                Object.assign(cat.style, {\n                    color: 'white',\n                    paddingLeft: '2vw'\n                });\n            } else {\n                cat.classList.remove('hovered');\n            }\n        });\n\n        // Apply gradient to the hovered project\n        project.style.background = getCategoryGradient(category);\n        project.style.webkitBackgroundClip = 'text';\n        project.style.webkitTextFillColor = 'transparent';\n\n        // Mettre à jour les couleurs de la grille en fonction de la catégorie\n        const categoryMapping = {\n            'design': 'design',\n            'development': 'development',\n            'generative': 'touchdesigner'\n        };\n        threeAnimation.updateColors(categoryMapping[category]);\n\n        // Mettre à jour la vidéo dans la scène Three.js\n        const preloadedVideo = videoPreloader.getVideo(videoSrc);\n        if (preloadedVideo) {\n            threeAnimation.updateVideoTexture(preloadedVideo.blobUrl);\n        } else {\n            threeAnimation.updateVideoTexture(videoSrc);\n        }\n    }\n\n    // Function to reset hover styles\n    function resetHover(project) {\n        resetCategories();\n        projectNames.forEach(e => e.style.color = 'white');\n        Object.assign(project.style, {\n            background: '',\n            webkitBackgroundClip: '',\n            webkitTextFillColor: ''\n        });\n    }\n\n    // Function to display the project preview\n    function showProjectPreview(project) {\n        // Show the preview window\n        // previewWindow.classList.remove('hidden');\n    }\n\n    // Function to hide the project preview\n    function hideProjectPreview() {\n        // previewWindow.classList.add('hidden');\n    }\n\n    // Add hover and leave events to project names\n    projectNames.forEach(project => {\n        project.addEventListener('mouseenter', () => {\n            handleProjectHover(project); // Highlight project category and styles\n            showProjectPreview(project); // Show the project preview\n        });\n\n        project.addEventListener('mouseleave', () => {\n            resetHover(project); // Reset hover styles\n            hideProjectPreview(); // Hide the project preview\n        });\n\n        // Optional: If you still want click to show preview permanently\n        project.addEventListener('click', () => showProjectPreview(project));\n    });\n\n    \n});\n"],"names":["projectNames","categories","loader","videoPreloader","error","getCategoryGradient","category","resetCategories","cat","handleProjectHover","project","videoSrc","e","categoryMapping","threeAnimation","preloadedVideo","resetHover","showProjectPreview"],"mappings":"4HAGA,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMA,EAAe,SAAS,iBAAiB,iBAAiB,EAC1DC,EAAa,SAAS,iBAAiB,oBAAoB,EAC3DC,EAAS,SAAS,eAAe,QAAQ,EAG3CC,EAAe,eAAiB,IAChCD,EAAO,MAAM,QAAU,OACvBC,EAAe,gBAAgB,KAAK,IAAM,CACtCD,EAAO,MAAM,QAAU,MACnC,CAAS,EAAE,MAAME,GAAS,CACd,QAAQ,MAAM,wBAAyBA,CAAK,EAC5CF,EAAO,MAAM,QAAU,MACnC,CAAS,GAIL,SAASG,EAAoBC,EAAU,CACnC,OAAQA,EAAQ,CACZ,IAAK,SACD,MAAO,2EACX,IAAK,cACD,MAAO,yEACX,IAAK,aACD,MAAO,qEACX,QACI,MAAO,EACvB,CACA,CAGI,SAASC,GAAkB,CACvBN,EAAW,QAAQO,GAAO,CACtBA,EAAI,UAAU,OAAO,SAAS,EAC9B,OAAO,OAAOA,EAAI,MAAO,CACrB,MAAO,GACP,WAAY,GACZ,qBAAsB,GACtB,oBAAqB,GACrB,YAAa,KAC7B,CAAa,CACb,CAAS,CACT,CAGI,SAASC,EAAmBC,EAAS,CACjC,MAAMJ,EAAWI,EAAQ,aAAa,eAAe,EAC/CC,EAAWD,EAAQ,aAAa,UAAU,EAEhDV,EAAa,QAAQY,GAAKA,EAAE,MAAM,MAAQ,MAAM,EAGhDX,EAAW,QAAQO,GAAO,CAClBA,EAAI,aAAa,eAAe,IAAMF,GACtCE,EAAI,UAAU,IAAI,SAAS,EAC3B,OAAO,OAAOA,EAAI,MAAO,CACrB,MAAO,QACP,YAAa,KACjC,CAAiB,GAEDA,EAAI,UAAU,OAAO,SAAS,CAE9C,CAAS,EAGDE,EAAQ,MAAM,WAAaL,EAAoBC,CAAQ,EACvDI,EAAQ,MAAM,qBAAuB,OACrCA,EAAQ,MAAM,oBAAsB,cAGpC,MAAMG,EAAkB,CACpB,OAAU,SACV,YAAe,cACf,WAAc,eACjB,EACDC,EAAe,aAAaD,EAAgBP,CAAQ,CAAC,EAGrD,MAAMS,EAAiBZ,EAAe,SAASQ,CAAQ,EACnDI,EACAD,EAAe,mBAAmBC,EAAe,OAAO,EAExDD,EAAe,mBAAmBH,CAAQ,CAEtD,CAGI,SAASK,EAAWN,EAAS,CACzBH,EAAiB,EACjBP,EAAa,QAAQY,GAAKA,EAAE,MAAM,MAAQ,OAAO,EACjD,OAAO,OAAOF,EAAQ,MAAO,CACzB,WAAY,GACZ,qBAAsB,GACtB,oBAAqB,EACjC,CAAS,CACT,CAGI,SAASO,EAAmBP,EAAS,CAGzC,CAQIV,EAAa,QAAQU,GAAW,CAC5BA,EAAQ,iBAAiB,aAAc,IAAM,CACzCD,EAAmBC,CAAO,CAEtC,CAAS,EAEDA,EAAQ,iBAAiB,aAAc,IAAM,CACzCM,EAAWN,CAAO,CAE9B,CAAS,EAGDA,EAAQ,iBAAiB,QAAS,IAAM,MAA2B,CAC3E,CAAK,CAGL,CAAC"}