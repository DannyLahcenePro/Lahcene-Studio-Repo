{"version":3,"file":"projects-BDPKBdmw.js","sources":["../../project/js/projects.js","../../project/projects.html?html-proxy&index=3.js"],"sourcesContent":["import videoPreloader from './video-preloader.js';\nimport { ThreeAnimation } from './three-animation.js';\nimport { fadeOutUi } from './main.js';  // Import fadeOutUi function\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const projectNames = document.querySelectorAll('.projects-names');\n    const categories = document.querySelectorAll('.projects-category');\n    const loader = document.getElementById('loader');\n\n    // Vérifier si les vidéos sont déjà préchargées\n    if (videoPreloader.videosLoaded === 0) {\n        loader.style.display = 'flex';\n        videoPreloader.preloadVideos().then(() => {\n            loader.style.display = 'none';\n        }).catch(error => {\n            console.error('Error loading videos:', error);\n            loader.style.display = 'none';\n        });\n    }\n\n    // Utility: Apply category-specific gradient\n    function getCategoryGradient(category) {\n        switch (category) {\n            case 'design':\n                return 'linear-gradient(129.1deg, #FF153C 14.5%, #FF5387 39.11%, #FF8438 84.05%)';\n            case 'development':\n                return 'linear-gradient(142deg, #2654EC 7.83%, #5B5BFF 55.07%, #4D00FF 95.88%)';\n            case 'generative':\n                return 'linear-gradient(50deg, #FF5757 0%, #E743CC 46.31%, #5765FF 95.94%)';\n            default:\n                return '';\n        }\n    }\n\n    // Function to reset category styles\n    function resetCategories() {\n        categories.forEach(cat => {\n            cat.classList.remove('hovered');\n            Object.assign(cat.style, {\n                color: '',\n                background: '',\n                webkitBackgroundClip: '',\n                webkitTextFillColor: '',\n                paddingLeft: '4vw'\n            });\n        });\n    }\n\n    // Function to handle hover styles for projects\n    function handleProjectHover(project) {\n        const category = project.getAttribute('data-category');\n        const videoSrc = project.getAttribute('data-src');\n\n        projectNames.forEach(e => e.style.color = 'grey');\n\n        // Highlight related category\n        categories.forEach(cat => {\n            if (cat.getAttribute('data-category') === category) {\n                cat.classList.add('hovered');\n                Object.assign(cat.style, {\n                    color: 'white',\n                    paddingLeft: '2vw'\n                });\n            } else {\n                cat.classList.remove('hovered');\n            }\n        });\n\n        // Apply gradient to the hovered project\n        project.style.background = getCategoryGradient(category);\n        project.style.webkitBackgroundClip = 'text';\n        project.style.webkitTextFillColor = 'transparent';\n\n        // Mettre à jour les couleurs de la grille en fonction de la catégorie\n        const categoryMapping = {\n            'default': 'default',\n            'design': 'design',\n            'development': 'development',\n            'generative': 'touchdesigner'\n        };\n        threeAnimation.updateColors(categoryMapping[category]);\n\n        // Mettre à jour la vidéo dans la scène Three.js\n        const preloadedVideo = videoPreloader.getVideo(videoSrc);\n        if (preloadedVideo) {\n            threeAnimation.updateVideoTexture(preloadedVideo.blobUrl);\n        } else {\n            threeAnimation.updateVideoTexture(videoSrc);\n        }\n    }\n\n    // Function to reset hover styles\n    function resetHover(project) {\n        resetCategories();\n        projectNames.forEach(e => e.style.color = 'white');\n        Object.assign(project.style, {\n            background: '',\n            webkitBackgroundClip: '',\n            webkitTextFillColor: ''\n        });\n    }\n\n    // Function to display the project preview\n    function showProjectPreview(project) {\n        // Show the preview window\n        // previewWindow.classList.remove('hidden');\n    }\n\n    // Function to hide the project preview\n    function hideProjectPreview() {\n        // Check if videoPlane exists before accessing its properties\n        if (threeAnimation.videoPlane) {\n            threeAnimation.updateVideoTexture(null); // Use null instead of empty string\n            threeAnimation.updateColors('default');\n        }\n    }\n\n    // Add hover and leave events to project names\n    projectNames.forEach(project => {\n        project.addEventListener('mouseenter', () => {\n            handleProjectHover(project); // Highlight project category and styles\n            showProjectPreview(project); // Show the project preview\n        });\n\n        project.addEventListener('mouseleave', () => {\n            resetHover(project); // Reset hover styles\n            hideProjectPreview(); // Hide the project preview\n        });\n\n        // Handle project click\n        project.addEventListener('click', (e) => {\n            e.preventDefault();\n            const projectId = project.getAttribute('data-id');\n            const destination = `project-template.html?id=${projectId}`;\n\n            // Start the coming toward camera animation\n            threeAnimation.circularGridComingtowardCamera(700);\n\n            // Fade out UI\n            fadeOutUi();\n\n            // Navigate after animation\n            setTimeout(() => {\n                window.location.href = destination;\n            }, 700); // Slightly longer than animation duration\n        });\n    });\n    threeAnimation.toggleBokeh(false)\n\n});\n","\n        import { ThreeAnimation } from './js/three-animation.js';\n        window.threeAnimation = new ThreeAnimation('circular');\n    "],"names":["projectNames","categories","loader","videoPreloader","error","getCategoryGradient","category","resetCategories","cat","handleProjectHover","project","videoSrc","e","categoryMapping","preloadedVideo","resetHover","hideProjectPreview","destination","fadeOutUi","ThreeAnimation"],"mappings":"sKAIA,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMA,EAAe,SAAS,iBAAiB,iBAAiB,EAC1DC,EAAa,SAAS,iBAAiB,oBAAoB,EAC3DC,EAAS,SAAS,eAAe,QAAQ,EAG3CC,EAAe,eAAiB,IAChCD,EAAO,MAAM,QAAU,OACvBC,EAAe,gBAAgB,KAAK,IAAM,CACtCD,EAAO,MAAM,QAAU,MACnC,CAAS,EAAE,MAAME,GAAS,CACd,QAAQ,MAAM,wBAAyBA,CAAK,EAC5CF,EAAO,MAAM,QAAU,MACnC,CAAS,GAIL,SAASG,EAAoBC,EAAU,CACnC,OAAQA,EAAQ,CACZ,IAAK,SACD,MAAO,2EACX,IAAK,cACD,MAAO,yEACX,IAAK,aACD,MAAO,qEACX,QACI,MAAO,EACvB,CACA,CAGI,SAASC,GAAkB,CACvBN,EAAW,QAAQO,GAAO,CACtBA,EAAI,UAAU,OAAO,SAAS,EAC9B,OAAO,OAAOA,EAAI,MAAO,CACrB,MAAO,GACP,WAAY,GACZ,qBAAsB,GACtB,oBAAqB,GACrB,YAAa,KAC7B,CAAa,CACb,CAAS,CACT,CAGI,SAASC,EAAmBC,EAAS,CACjC,MAAMJ,EAAWI,EAAQ,aAAa,eAAe,EAC/CC,EAAWD,EAAQ,aAAa,UAAU,EAEhDV,EAAa,QAAQY,GAAKA,EAAE,MAAM,MAAQ,MAAM,EAGhDX,EAAW,QAAQO,GAAO,CAClBA,EAAI,aAAa,eAAe,IAAMF,GACtCE,EAAI,UAAU,IAAI,SAAS,EAC3B,OAAO,OAAOA,EAAI,MAAO,CACrB,MAAO,QACP,YAAa,KACjC,CAAiB,GAEDA,EAAI,UAAU,OAAO,SAAS,CAE9C,CAAS,EAGDE,EAAQ,MAAM,WAAaL,EAAoBC,CAAQ,EACvDI,EAAQ,MAAM,qBAAuB,OACrCA,EAAQ,MAAM,oBAAsB,cAGpC,MAAMG,EAAkB,CACpB,QAAW,UACX,OAAU,SACV,YAAe,cACf,WAAc,eACjB,EACD,eAAe,aAAaA,EAAgBP,CAAQ,CAAC,EAGrD,MAAMQ,EAAiBX,EAAe,SAASQ,CAAQ,EACnDG,EACA,eAAe,mBAAmBA,EAAe,OAAO,EAExD,eAAe,mBAAmBH,CAAQ,CAEtD,CAGI,SAASI,EAAWL,EAAS,CACzBH,EAAiB,EACjBP,EAAa,QAAQY,GAAKA,EAAE,MAAM,MAAQ,OAAO,EACjD,OAAO,OAAOF,EAAQ,MAAO,CACzB,WAAY,GACZ,qBAAsB,GACtB,oBAAqB,EACjC,CAAS,CACT,CASI,SAASM,GAAqB,CAEtB,eAAe,aACf,eAAe,mBAAmB,IAAI,EACtC,eAAe,aAAa,SAAS,EAEjD,CAGIhB,EAAa,QAAQU,GAAW,CAC5BA,EAAQ,iBAAiB,aAAc,IAAM,CACzCD,EAAmBC,CAAO,CAEtC,CAAS,EAEDA,EAAQ,iBAAiB,aAAc,IAAM,CACzCK,EAAWL,CAAO,EAClBM,GACZ,CAAS,EAGDN,EAAQ,iBAAiB,QAAUE,GAAM,CACrCA,EAAE,eAAgB,EAElB,MAAMK,EAAc,4BADFP,EAAQ,aAAa,SAAS,CACS,GAGzD,eAAe,+BAA+B,GAAG,EAGjDQ,EAAW,EAGX,WAAW,IAAM,CACb,OAAO,SAAS,KAAOD,CAC1B,EAAE,GAAG,CAClB,CAAS,CACT,CAAK,EACD,eAAe,YAAY,EAAK,CAEpC,CAAC,ECnJO,OAAO,eAAiB,IAAIE,EAAe,UAAU"}