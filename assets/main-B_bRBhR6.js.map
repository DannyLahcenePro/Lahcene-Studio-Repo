{"version":3,"file":"main-B_bRBhR6.js","sources":["../../project/js/main.js"],"sourcesContent":["import { ThreeAnimation } from './three-animation.js';\n\n// L'animation démarre automatiquement car elle est initialisée dans three-animation.js\nwindow.addEventListener('beforeunload', () => {\n    // Cleanup si nécessaire\n    if (window.threeAnimation) {\n        // Supprimer les event listeners\n        window.removeEventListener('resize', window.threeAnimation.onResize);\n        window.removeEventListener('mousemove', window.threeAnimation.onMouseMove);\n        \n        // Nettoyer la scène\n        window.threeAnimation.gridPoints.forEach(point => {\n            point.geometry.dispose();\n            point.material.dispose();\n        });\n        \n        // Supprimer le canvas\n        const canvas = document.querySelector('canvas');\n        if (canvas) {\n            canvas.remove();\n        }\n    }\n});\n\nconst transitionTime = 700;\nconst fadeOutDuration = 700; // Durée de l'animation de disparition\n\n// Configuration des éléments par page\nconst pageConfig = {\n    'index.html': {\n        top: 'header',\n        center: '.container',\n        bottom: 'footer'\n    },\n    'projects.html': {\n        top: 'header',\n        center: '.menu-projects-content',\n        bottom: 'footer'\n    },\n    'about.html': {\n        top: 'header',\n        center: '.about-container',\n        bottom: 'footer'\n    },\n    'contact.html': {\n        top: 'header',\n        center: '.contact-container',\n        bottom: 'footer'\n    }\n};\n\n// Fonction pour obtenir la configuration de la page actuelle\nfunction getCurrentPageConfig() {\n    const path = window.location.pathname;\n    const page = path.substring(path.lastIndexOf('/') + 1) || 'index.html';\n    return pageConfig[page];\n}\n\n// Animation d'apparition\nfunction fadeInUi() {\n    const config = getCurrentPageConfig();\n    if (!config) return; // Exit if no config found for current page\n\n    // Get all elements that need animation\n    const header = document.querySelector(config.top);\n    const container = document.querySelector(config.center);\n    const footer = document.querySelector(config.bottom);\n\n    // Add initial classes if not present\n    [header, container, footer].forEach(element => {\n        if (element && !element.classList.contains('fade-initial')) {\n            element.classList.add('fade-initial');\n            element.style.opacity = '0';\n            element.style.transform = 'translateY(20px)';\n        }\n    });\n\n    // Ensure elements are hidden initially\n    if (container) {\n        Array.from(container.children).forEach(child => {\n            if (!child.classList.contains('fade-initial')) {\n                child.classList.add('fade-initial');\n                child.style.opacity = '0';\n                child.style.transform = 'translateY(20px)';\n            }\n        });\n    }\n\n    // Sequence of animations\n    const animate = (element, delay = 0, childDelay = 100) => {\n        if (!element) return;\n\n        setTimeout(() => {\n            // Animate the main element\n            element.classList.remove('fade-initial');\n            element.classList.add('fade-transition');\n            element.style.opacity = '1';\n            element.style.transform = 'translateY(0)';\n\n            // Animate children with cascading delay\n            const children = element.children;\n            Array.from(children).forEach((child, index) => {\n                setTimeout(() => {\n                    child.classList.remove('fade-initial');\n                    child.classList.add('fade-transition');\n                    child.style.opacity = '1';\n                    child.style.transform = 'translateY(0)';\n                }, childDelay * index);\n            });\n        }, delay);\n    };\n\n    // Start animation sequence\n    requestAnimationFrame(() => {\n        animate(header, 200);\n        animate(container, 400);\n        animate(footer, 600);\n\n        // Animation des cartes de compétences (for about page)\n        const bentoItems = document.querySelectorAll('.bento-item');\n        if (bentoItems.length > 0) {\n            bentoItems.forEach((item, index) => {\n                item.classList.remove('visible', 'hover');\n                \n                setTimeout(() => {\n                    item.classList.add('visible');\n                    \n                    item.addEventListener('mouseenter', () => {\n                        item.classList.add('hover');\n                    });\n                    \n                    item.addEventListener('mouseleave', () => {\n                        item.classList.remove('hover');\n                    });\n                }, 800 + (index * 100));\n            });\n        }\n    });\n}\n\n// Initialize animations\nfunction initializeAnimations() {\n    // Hide elements immediately\n    const config = getCurrentPageConfig();\n    if (config) {\n        [config.top, config.center, config.bottom].forEach(selector => {\n            const element = document.querySelector(selector);\n            if (element) {\n                element.style.opacity = '0';\n                element.style.transform = 'translateY(20px)';\n                Array.from(element.children).forEach(child => {\n                    child.style.opacity = '0';\n                    child.style.transform = 'translateY(20px)';\n                });\n            }\n        });\n    }\n\n    // Start animations after a short delay\n    setTimeout(fadeInUi, 100);\n}\n\n// Event listeners for page load\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initializeAnimations);\n} else {\n    initializeAnimations();\n}\n\n// Ensure animations run when navigating with history (back/forward)\nwindow.addEventListener('pageshow', (event) => {\n    if (event.persisted) {\n        initializeAnimations();\n    }\n});\n\n// Animation de disparition\n// function fadeOutUi() {\n//     const config = getCurrentPageConfig();\n//     if (!config) return;\n\n//     const destination = document.activeElement.getAttribute('href') || '';\n//     const goingToIndex = destination === 'index.html';\n\n//     if (goingToIndex) {\n//         // Animation en cascade pour la transition vers index.html\n//         const header = document.querySelector('header');\n//         const footer = document.querySelector('footer');\n//         const center = document.querySelector(config.center);\n\n//         if (header) {\n//             header.classList.add('fade-transition');\n//             header.style.opacity = '0';\n//             header.style.transform = 'translateY(20px)';\n//         }\n\n//         if (center) {\n//             setTimeout(() => {\n//                 center.classList.add('fade-transition');\n//                 center.style.opacity = '0';\n//                 center.style.transform = 'translateY(20px)';\n//             }, 100);\n//         }\n\n//         if (footer) {\n//             setTimeout(() => {\n//                 footer.classList.add('fade-transition');\n//                 footer.style.opacity = '0';\n//                 footer.style.transform = 'translateY(20px)';\n//             }, 200);\n//         }\n//     } else {\n//         // Pour les autres transitions, disparition instantanée\n//         const elements = [\n//             document.querySelector(config.top),\n//             document.querySelector(config.center),\n//             document.querySelector(config.bottom)\n//         ];\n\n//         elements.forEach(element => {\n//             if (element) {\n//                 element.style.opacity = '0';\n//                 element.style.transform = 'translateY(20px)';\n//             }\n//         });\n//     }\n// }\n\n// Gérer les clics sur les liens\ndocument.addEventListener('DOMContentLoaded', () => {\n    document.querySelectorAll('a[href]').forEach(link => {\n        link.addEventListener('click', function(e) {\n            // Ignorer les liens externes, ancres, mailto et tel\n            if (\n                this.getAttribute('target') === '_blank' || \n                this.getAttribute('href').startsWith('#') ||\n                this.getAttribute('href').startsWith('mailto:') ||\n                this.getAttribute('href').startsWith('tel:')\n            ) {\n                return;\n            }\n\n            e.preventDefault();\n            const destination = this.getAttribute('href');\n\n            // Lancer l'animation de disparition\n            if (window.threeAnimation) {\n                window.threeAnimation.fadeOutPoints(fadeOutDuration);\n            }\n            // fadeOutUi();\n            \n            // Changer de page après le délai\n            setTimeout(() => {\n                window.location.href = destination;\n            }, transitionTime);\n        });\n    });\n});"],"names":["point","canvas","transitionTime","fadeOutDuration","pageConfig","getCurrentPageConfig","path","page","fadeInUi","config","header","container","footer","element","child","animate","delay","childDelay","children","index","bentoItems","item","initializeAnimations","selector","event","link","e","destination"],"mappings":"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"}