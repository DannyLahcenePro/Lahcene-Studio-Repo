{"version":3,"file":"main-D0qWa0L8.js","sources":["../../project/js/main.js"],"sourcesContent":["import { ThreeAnimation } from './three-animation.js';\n\n// L'animation démarre automatiquement car elle est initialisée dans three-animation.js\nwindow.addEventListener('beforeunload', () => {\n    // Cleanup si nécessaire\n    if (window.threeAnimation) {\n        // Supprimer les event listeners\n        window.removeEventListener('resize', window.threeAnimation.onResize);\n        window.removeEventListener('mousemove', window.threeAnimation.onMouseMove);\n        \n        // Nettoyer la scène\n        window.threeAnimation.gridPoints.forEach(point => {\n            point.geometry.dispose();\n            point.material.dispose();\n        });\n        \n        // Supprimer le canvas\n        const canvas = document.querySelector('canvas');\n        if (canvas) {\n            canvas.remove();\n        }\n    }\n});\n\nconst transitionTime = 700;\nconst fadeOutDuration = 700; // Durée de l'animation de disparition\n\n// Configuration des éléments par page\nconst pageConfig = {\n    'index.html': {\n        top: 'header',\n        center: '.container',\n        bottom: 'footer'\n    },\n    'projects.html': {\n        top: 'header',\n        center: '.menu-projects-content',\n        bottom: 'footer'\n    },\n    'about.html': {\n        top: 'header',\n        center: '.about-container',\n        bottom: 'footer'\n    },\n    'contact.html': {\n        top: 'header',\n        center: '.contact-container',\n        bottom: 'footer'\n    }\n};\n\n// Fonction pour obtenir la configuration de la page actuelle\nfunction getCurrentPageConfig() {\n    const path = window.location.pathname;\n    const page = path.substring(path.lastIndexOf('/') + 1) || 'index.html';\n    return pageConfig[page];\n}\n\n// Animation d'apparition\nfunction fadeInUi() {\n    const config = getCurrentPageConfig();\n    if (!config) return; // Exit if no config found for current page\n\n    // Get all elements that need animation\n    const header = document.querySelector(config.top);\n    const container = document.querySelector(config.center);\n    const footer = document.querySelector(config.bottom);\n\n    // Add initial classes if not present\n    [header, container, footer].forEach(element => {\n        if (element && !element.classList.contains('fade-initial')) {\n            element.classList.add('fade-initial');\n        }\n    });\n\n    // Sequence of animations\n    const animate = (element, delay = 0, childDelay = 100) => {\n        if (!element) return;\n\n        setTimeout(() => {\n            // Animate the main element\n            element.classList.remove('fade-initial');\n            element.classList.add('fade-transition');\n            element.style.opacity = '1';\n            element.style.transform = 'translateY(0)';\n\n            // Animate children with cascading delay\n            const children = element.children;\n            Array.from(children).forEach((child, index) => {\n                setTimeout(() => {\n                    child.classList.remove('fade-initial');\n                    child.classList.add('fade-transition');\n                    child.style.opacity = '1';\n                    child.style.transform = 'translateY(0)';\n                }, childDelay * index);\n            });\n        }, delay);\n    };\n\n    // Start animation sequence\n    animate(header, 200); // Header first\n    animate(container, 400); // Container second\n    animate(footer, 600); // Footer last\n\n    // Animation des cartes de compétences (for about page)\n    const bentoItems = document.querySelectorAll('.bento-item');\n    if (bentoItems.length > 0) {\n        bentoItems.forEach((item, index) => {\n            // Reset any existing classes\n            item.classList.remove('visible', 'hover');\n            \n            // Animate each card with a staggered delay\n            setTimeout(() => {\n                item.classList.add('visible');\n                \n                // Add hover animations after initial animation\n                item.addEventListener('mouseenter', () => {\n                    item.classList.add('hover');\n                });\n                \n                item.addEventListener('mouseleave', () => {\n                    item.classList.remove('hover');\n                });\n            }, 800 + (index * 100)); // Start after other animations, with 100ms delay between each card\n        });\n    }\n}\n\n// Attendre que le DOM soit complètement chargé\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n        setTimeout(fadeInUi, 1200);\n    });\n} else {\n    setTimeout(fadeInUi, 1200);\n}\n\n// Animation de disparition\n// function fadeOutUi() {\n//     const config = getCurrentPageConfig();\n//     if (!config) return;\n\n//     const destination = document.activeElement.getAttribute('href') || '';\n//     const goingToIndex = destination === 'index.html';\n\n//     if (goingToIndex) {\n//         // Animation en cascade pour la transition vers index.html\n//         const header = document.querySelector('header');\n//         const footer = document.querySelector('footer');\n//         const center = document.querySelector(config.center);\n\n//         if (header) {\n//             header.classList.add('fade-transition');\n//             header.style.opacity = '0';\n//             header.style.transform = 'translateY(20px)';\n//         }\n\n//         if (center) {\n//             setTimeout(() => {\n//                 center.classList.add('fade-transition');\n//                 center.style.opacity = '0';\n//                 center.style.transform = 'translateY(20px)';\n//             }, 100);\n//         }\n\n//         if (footer) {\n//             setTimeout(() => {\n//                 footer.classList.add('fade-transition');\n//                 footer.style.opacity = '0';\n//                 footer.style.transform = 'translateY(20px)';\n//             }, 200);\n//         }\n//     } else {\n//         // Pour les autres transitions, disparition instantanée\n//         const elements = [\n//             document.querySelector(config.top),\n//             document.querySelector(config.center),\n//             document.querySelector(config.bottom)\n//         ];\n\n//         elements.forEach(element => {\n//             if (element) {\n//                 element.style.opacity = '0';\n//                 element.style.transform = 'translateY(20px)';\n//             }\n//         });\n//     }\n// }\n\n// Gérer les clics sur les liens\ndocument.addEventListener('DOMContentLoaded', () => {\n    document.querySelectorAll('a[href]').forEach(link => {\n        link.addEventListener('click', function(e) {\n            // Ignorer les liens externes, ancres, mailto et tel\n            if (\n                this.getAttribute('target') === '_blank' || \n                this.getAttribute('href').startsWith('#') ||\n                this.getAttribute('href').startsWith('mailto:') ||\n                this.getAttribute('href').startsWith('tel:')\n            ) {\n                return;\n            }\n\n            e.preventDefault();\n            const destination = this.getAttribute('href');\n\n            // Lancer l'animation de disparition\n            if (window.threeAnimation) {\n                window.threeAnimation.fadeOutPoints(fadeOutDuration);\n            }\n            // fadeOutUi();\n            \n            // Changer de page après le délai\n            setTimeout(() => {\n                window.location.href = destination;\n            }, transitionTime);\n        });\n    });\n});"],"names":["point","canvas","transitionTime","fadeOutDuration","pageConfig","getCurrentPageConfig","path","page","fadeInUi","config","header","container","footer","element","animate","delay","childDelay","children","child","index","bentoItems","item","link","e","destination"],"mappings":"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"}