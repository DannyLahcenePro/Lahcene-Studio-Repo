{"version":3,"file":"main-C8F5p8Aj.js","sources":["../../project/js/main.js"],"sourcesContent":["import { ThreeAnimation } from './three-animation.js';\n\n// L'animation démarre automatiquement car elle est initialisée dans three-animation.js\nwindow.addEventListener('beforeunload', () => {\n    // Cleanup si nécessaire\n    if (window.threeAnimation) {\n        // Supprimer les event listeners\n        window.removeEventListener('resize', window.threeAnimation.onResize);\n        window.removeEventListener('mousemove', window.threeAnimation.onMouseMove);\n        \n        // Nettoyer la scène\n        window.threeAnimation.gridPoints.forEach(point => {\n            point.geometry.dispose();\n            point.material.dispose();\n        });\n        \n        // Supprimer le canvas\n        const canvas = document.querySelector('canvas');\n        if (canvas) {\n            canvas.remove();\n        }\n    }\n});\n\nconst transitionTime = 700;\nconst fadeOutDuration = 700; // Durée de l'animation de disparition\n\n// Configuration des éléments par page\nconst pageConfig = {\n    'index.html': {\n        top: 'header',\n        center: '.container',\n        bottom: 'footer'\n    },\n    'projects.html': {\n        top: 'header',\n        center: '.menu-projects-content',\n        bottom: 'footer'\n    },\n    'about.html': {\n        top: 'header',\n        center: '.about-container',\n        bottom: 'footer'\n    },\n    'contact.html': {\n        top: 'header',\n        center: '.contact-container',\n        bottom: 'footer'\n    }\n};\n\n// Fonction pour obtenir la configuration de la page actuelle\nfunction getCurrentPageConfig() {\n    const path = window.location.pathname;\n    const page = path.substring(path.lastIndexOf('/') + 1) || 'index.html';\n    return pageConfig[page];\n}\n\n// Animation d'apparition\nfunction fadeInUi() {\n    const config = getCurrentPageConfig();\n    if (!config) return;\n\n    const currentPage = window.location.pathname.split('/').pop() || 'index.html';\n    const isIndex = currentPage === 'index.html';\n\n    // Header et footer\n    const header = document.querySelector('header');\n    const footer = document.querySelector('footer');\n\n    if (isIndex) {\n        // Animation en cascade pour index.html\n        if (header) {\n            setTimeout(() => {\n                header.classList.remove('fade-initial');\n                header.classList.add('fade-transition');\n                header.style.opacity = '1';\n                header.style.transform = 'translateY(0)';\n                \n                // Animer les liens du header avec un délai\n                const headerLinks = header.querySelectorAll('a');\n                headerLinks.forEach((link, index) => {\n                    setTimeout(() => {\n                        link.classList.remove('fade-initial');\n                        link.classList.add('fade-transition');\n                        link.style.opacity = '1';\n                        link.style.transform = 'translateY(0)';\n                    }, 100 * (index + 1));\n                });\n            }, 100);\n        }\n\n        if (footer) {\n            setTimeout(() => {\n                footer.classList.remove('fade-initial');\n                footer.classList.add('fade-transition');\n                footer.style.opacity = '1';\n                footer.style.transform = 'translateY(0)';\n            }, 300);\n        }\n    } else {\n        // Pour les autres pages, header et footer apparaissent immédiatement sans transition\n        if (header) {\n            header.classList.remove('fade-initial');\n            header.style.opacity = '1';\n            header.style.transform = 'translateY(0)';\n            header.querySelectorAll('a').forEach(link => {\n                link.classList.remove('fade-initial');\n                link.style.opacity = '1';\n                link.style.transform = 'translateY(0)';\n            });\n        }\n        if (footer) {\n            footer.classList.remove('fade-initial');\n            footer.style.opacity = '1';\n            footer.style.transform = 'translateY(0)';\n        }\n    }\n\n    // Animer le contenu central\n    const center = document.querySelector(config.center);\n    if (center) {\n        setTimeout(() => {\n            center.classList.remove('fade-initial');\n            center.classList.add('fade-transition');\n            center.style.opacity = '1';\n            center.style.transform = 'translateY(0)';\n\n            // Animation des enfants\n            if (config.center === '.about-container') {\n                // Animation spéciale pour la grille bento\n                const bentoItems = document.querySelectorAll('.bento-item');\n                bentoItems.forEach((item, index) => {\n                    setTimeout(() => {\n                        item.classList.remove('fade-initial');\n                        item.classList.add('fade-transition');\n                        item.style.opacity = '1';\n                        item.style.transform = 'translateY(0)';\n\n                        // Animer les enfants des éléments bento\n                        const bentoChildren = item.children;\n                        Array.from(bentoChildren).forEach((child, childIndex) => {\n                            setTimeout(() => {\n                                child.style.opacity = '1';\n                                child.style.transform = 'translateY(0)';\n                            }, 50 * (childIndex + 1));\n                        });\n                    }, 200 * (index + 1));\n                });\n            } else {\n                // Animation standard pour les autres pages\n                const children = center.children;\n                Array.from(children).forEach((child, index) => {\n                    setTimeout(() => {\n                        child.classList.remove('fade-initial');\n                        child.classList.add('fade-transition');\n                        child.style.opacity = '1';\n                        child.style.transform = 'translateY(0)';\n                        \n                        // Animer les enfants des enfants si nécessaire\n                        const subChildren = child.children;\n                        Array.from(subChildren).forEach((subChild, subIndex) => {\n                            setTimeout(() => {\n                                subChild.classList.remove('fade-initial');\n                                subChild.classList.add('fade-transition');\n                                subChild.style.opacity = '1';\n                                subChild.style.transform = 'translateY(0)';\n                            }, 50 * (subIndex + 1));\n                        });\n                    }, 100 * (index + 1));\n                });\n            }\n        }, 200);\n    }\n}\n\n// Attendre que le DOM soit complètement chargé\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n        setTimeout(fadeInUi, 1200);\n    });\n} else {\n    setTimeout(fadeInUi, 1200);\n}\n\n// Animation de disparition\nfunction fadeOutUi() {\n    const config = getCurrentPageConfig();\n    if (!config) return;\n\n    const destination = document.activeElement.getAttribute('href') || '';\n    const goingToIndex = destination === 'index.html';\n\n    if (goingToIndex) {\n        // Animation en cascade pour la transition vers index.html\n        const header = document.querySelector('header');\n        const footer = document.querySelector('footer');\n        const center = document.querySelector(config.center);\n\n        if (header) {\n            header.classList.add('fade-transition');\n            header.style.opacity = '0';\n            header.style.transform = 'translateY(20px)';\n        }\n\n        if (center) {\n            setTimeout(() => {\n                center.classList.add('fade-transition');\n                center.style.opacity = '0';\n                center.style.transform = 'translateY(20px)';\n            }, 100);\n        }\n\n        if (footer) {\n            setTimeout(() => {\n                footer.classList.add('fade-transition');\n                footer.style.opacity = '0';\n                footer.style.transform = 'translateY(20px)';\n            }, 200);\n        }\n    } else {\n        // Pour les autres transitions, seul le contenu central s'anime\n        const center = document.querySelector(config.center);\n        if (center) {\n            center.classList.add('fade-transition');\n            center.style.opacity = '0';\n            center.style.transform = 'translateY(20px)';\n        }\n    }\n}\n\n// Gérer les clics sur les liens\ndocument.addEventListener('DOMContentLoaded', () => {\n    document.querySelectorAll('a[href]').forEach(link => {\n        link.addEventListener('click', function(e) {\n            // Ignorer les liens externes, ancres, mailto et tel\n            if (\n                this.getAttribute('target') === '_blank' || \n                this.getAttribute('href').startsWith('#') ||\n                this.getAttribute('href').startsWith('mailto:') ||\n                this.getAttribute('href').startsWith('tel:')\n            ) {\n                return;\n            }\n\n            e.preventDefault();\n            const destination = this.getAttribute('href');\n\n            // Lancer l'animation de disparition\n            if (window.threeAnimation) {\n                window.threeAnimation.fadeOutPoints(fadeOutDuration);\n            }\n            fadeOutUi();\n            \n            // Changer de page après le délai\n            setTimeout(() => {\n                window.location.href = destination;\n            }, transitionTime);\n        });\n    });\n});"],"names":["point","canvas","transitionTime","fadeOutDuration","pageConfig","getCurrentPageConfig","path","page","fadeInUi","config","isIndex","header","footer","link","index","center","item","bentoChildren","child","childIndex","children","subChildren","subChild","subIndex","fadeOutUi","e","destination"],"mappings":"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"}