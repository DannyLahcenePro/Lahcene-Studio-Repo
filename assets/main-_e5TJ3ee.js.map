{"version":3,"file":"main-_e5TJ3ee.js","sources":["../../project/js/main.js"],"sourcesContent":["import { ThreeAnimation } from './three-animation.js';\n\n// L'animation démarre automatiquement car elle est initialisée dans three-animation.js\nwindow.addEventListener('beforeunload', () => {\n    // Cleanup si nécessaire\n    if (window.threeAnimation) {\n        // Supprimer les event listeners\n        window.removeEventListener('resize', window.threeAnimation.onResize);\n        window.removeEventListener('mousemove', window.threeAnimation.onMouseMove);\n        \n        // Nettoyer la scène\n        window.threeAnimation.gridPoints.forEach(point => {\n            point.geometry.dispose();\n            point.material.dispose();\n        });\n        \n        // Supprimer le canvas\n        const canvas = document.querySelector('canvas');\n        if (canvas) {\n            canvas.remove();\n        }\n    }\n});\n\nconst transitionTime = 700;\nconst fadeOutDuration = 700; // Durée de l'animation de disparition\n\n// Configuration des éléments par page\nconst pageConfig = {\n    'index.html': {\n        top: 'header',\n        center: '.container',\n        bottom: 'footer'\n    },\n    'projects.html': {\n        top: 'header',\n        center: '.menu-projects-content',\n        bottom: 'footer'\n    },\n    'about.html': {\n        top: 'header',\n        center: '.about-container',\n        bottom: 'footer'\n    },\n    'contact.html': {\n        top: 'header',\n        center: '.contact-container',\n        bottom: 'footer'\n    }\n};\n\n// Fonction pour obtenir la configuration de la page actuelle\nfunction getCurrentPageConfig() {\n    const path = window.location.pathname;\n    const page = path.substring(path.lastIndexOf('/') + 1) || 'index.html';\n    return pageConfig[page];\n}\n\n// Animation d'apparition\nfunction fadeInUi() {\n    const config = getCurrentPageConfig();\n    if (!config) return;\n\n    const header = document.querySelector(config.top);\n    const container = document.querySelector(config.center);\n    const footer = document.querySelector(config.bottom);\n\n    // Function to animate an element and its children\n    const animateElement = (element, delay = 0) => {\n        if (!element) return;\n        \n        setTimeout(() => {\n            element.classList.add('fade-transition');\n            \n            // Animate direct children with a stagger\n            Array.from(element.children).forEach((child, index) => {\n                setTimeout(() => {\n                    child.classList.add('fade-transition');\n                }, index * 100);\n            });\n        }, delay);\n    };\n\n    // Trigger animations in sequence\n    requestAnimationFrame(() => {\n        animateElement(header, 200);\n        animateElement(container, 400);\n        animateElement(footer, 600);\n\n        // Handle bento items separately if they exist\n        const bentoItems = document.querySelectorAll('.bento-item');\n        bentoItems.forEach((item, index) => {\n            setTimeout(() => {\n                item.classList.add('fade-transition');\n                item.classList.add('visible');\n            }, 800 + (index * 100));\n        });\n    });\n}\n\n// Initialize animations\nfunction initializeAnimations() {\n    const config = getCurrentPageConfig();\n    if (!config) return;\n\n    // Get elements\n    const elements = [\n        document.querySelector(config.top),\n        document.querySelector(config.center),\n        document.querySelector(config.bottom)\n    ].filter(Boolean);\n\n    // Add initial state to all elements and their children\n    elements.forEach(element => {\n        element.classList.add('fade-initial');\n        Array.from(element.children).forEach(child => {\n            child.classList.add('fade-initial');\n        });\n    });\n\n    // Start animations after a brief delay\n    setTimeout(fadeInUi, 100);\n}\n\n// Event listeners for page load\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initializeAnimations);\n} else {\n    initializeAnimations();\n}\n\n// Handle back/forward navigation\nwindow.addEventListener('pageshow', (event) => {\n    if (event.persisted) {\n        initializeAnimations();\n    }\n});\n\n// Gérer les clics sur les liens\ndocument.addEventListener('DOMContentLoaded', () => {\n    document.querySelectorAll('a[href]').forEach(link => {\n        link.addEventListener('click', function(e) {\n            // Ignorer les liens externes, ancres, mailto et tel\n            if (\n                this.getAttribute('target') === '_blank' || \n                this.getAttribute('href').startsWith('#') ||\n                this.getAttribute('href').startsWith('mailto:') ||\n                this.getAttribute('href').startsWith('tel:')\n            ) {\n                return;\n            }\n\n            e.preventDefault();\n            const destination = this.getAttribute('href');\n\n            // Lancer l'animation de disparition\n            if (window.threeAnimation) {\n                window.threeAnimation.fadeOutPoints(fadeOutDuration);\n            }\n            \n            // Changer de page après le délai\n            setTimeout(() => {\n                window.location.href = destination;\n            }, transitionTime);\n        });\n    });\n});"],"names":["point","canvas","transitionTime","fadeOutDuration","pageConfig","getCurrentPageConfig","path","page","fadeInUi","config","header","container","footer","animateElement","element","delay","child","index","item","initializeAnimations","event","link","e","destination"],"mappings":"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"}